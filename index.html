<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>首页动画测试</title>
    <audio src="./audio/may_be_happy.mp3" preload="meta" loop autoplay id="bgmusic"></audio>
    <link rel="stylesheet" href="./css/首页动画.css">

    <script src="https://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>

    <!-- GASP专业网页动画插件 -->
    <script src="./js/greensock-js/src/minified/TweenLite.min.js">
    </script>
    <script src="./js/greensock-js/src/minified/plugins/CSSPlugin.min.js">
    </script>
    <script src="./js/greensock-js/src/minified/plugins/BezierPlugin.min.js">
    </script>
    <script src="./js/greensock-js/src/minified/TimelineLite.min.js">
    </script>
    <script src="./js/greensock-js/src/minified/easing/EasePack.min.js">
    </script>
    <script src="./js/greensock-js/src/minified/TweenMax.min.js">
    </script>
    <script src="./js/greensock-js/src/minified/plugins/TextPlugin.min.js"></script>
    <script src="./js/greensock-js/src/minified/plugins/ScrollToPlugin.min.js"></script>
    <script src="./js/greensock-js/src/minified/plugins/ModifiersPlugin.min.js"></script>
    <script src="./js/greensock-js/src/SplitText.min.js"></script>

</head>

<body>

    <div id="back1"></div>
    <div id="back2">
        <div class="back_wrap">
            <div class="boxes">1</div>
            <div class="boxes">2</div>
        </div>
    </div>

    <div id="index_outer1" class="index_outer"></div>
    <div id="index_outer2" class="index_outer"></div>
    <div id="index_outer3" class="index_outer"></div>
    <div id="index_outer4" class="index_outer"></div>

    <div class="index_sum">
        <div class="index_set">
            <div class="index_center">
                <a href="./SLIMU_RUSH_GAMESET.html">SLIMU RUSH游戏首页</a>
                <a href="./GSAP动画.html">GSAP动画demo</a>
            </div>
        </div>
        <div class="logo_set"><img src="./img/logo.png" alt="" id="logo1"></div>
        <div class="logo_set2"><img src="./img/slimu_shendan2.gif" alt="" id="logo2"></div>
        <p id="title1">WELCOME TO THE SLIMU RUSH!!!~</p>

        <p id="title2">HAVE A NICE DAY!~</p>
    </div>

    <script type="text/javascript">
        var split1 = new SplitText($("#title1"));
        var split2 = new SplitText($("#title2"));
        var index_outers = $(".index_outer").children();
        var titles = $(".index_set");
        var logo_img = $(".logo_set");
        var logo_img2 = $(".logo_set2");

        var tl2 = new TimelineMax({
            repeat: -1,
            align: "sequence"
        });
        var tl3 = new TimelineMax({
            repeat: -1,
            align: "sequence"
        });
        var tl4 = new TimelineMax({
            align: "sequence"
        });

        function last_animate() {
            tl2.pause();
            tl3.pause();
            tl2.to(logo_img, 0.4, {
                y: -100,
                ease: Power1.easeInOut
            }).to(logo_img, 0.5, {
                y: 0,
                ease: Bounce.easeOut,
            });
            tl3.to(logo_img2, 0.8, {
                rotation: 15,
                delay: 0.2,
                ease: Power1.easeInOut
            }).to(logo_img2, 0.8, {
                rotation: 0,
                ease: Power1.easeInOut
            }).to(logo_img2, 0.8, {
                rotation: -15,
                ease: Power1.easeInOut
            }).to(logo_img2, 0.8, {
                rotation: 0,
                ease: Power1.easeInOut
            });
            tl4.set($("#title1"), {
                opacity: 1
            });
            tl4.set($("#title2"), {
                opacity: 1
            });
            tl4.staggerFrom(split1.chars, 0.8, {
                opacity: 0,
                scale: 0,
                x: 100,
                rotationY: 180,
                ease: Power1.easeInOut
            }, 0.03).staggerFrom(split2.chars, 0.8, {
                opacity: 0,
                scale: 0,
                x: 100,
                rotationY: 180,
                ease: Power1.easeInOut
            }, 0.03);
            tl4.play(0);
            tl3.play(0);
            tl2.play(0); //保证在时间轴0秒 开始
        }

        var tl1 = new TimelineMax({
            align: 'sequence',
        });

        tl1.set(titles, {
            opacity: 0,
            scale: 0
        }); //初始化

        tl1.to([$("#index_outer1"), $("#index_outer2")], 0.8, {
            top: 0,
            delay: 1,
            ease: Power1.easeInOut
        }).to([$("#index_outer3"), $("#index_outer4")], 0.8, {
            right: 0,
            ease: Power1.easeInOut
        }, ).to(titles, 1, {
            scale: 1,
            opacity: 1,
            ease: Bounce.easeOut
        }, ).to(logo_img, 0.8, {
            bottom: "20%",
            ease: Power1.easeInOut
        }, ).set(logo_img, {
            "z-index": 1
        }, ).to(logo_img, 0.8, {
            bottom: "5%",
            ease: Bounce.easeOut
        }, ).set(logo_img2, {
            opacity: 1
        }, ).to(logo_img2, 0.4, {
            bottom: "75.5%",
            left: "54.5%",
            ease: Power1.easeInOut
        }, ).set(logo_img2, {
            "z-index": 1
        }, ).to(logo_img2, 0.4, {
            bottom: "68%",
            ease: Bounce.easeOut
        }, );
        tl1.addCallback(last_animate, "+=0.2"); //使用此方法在TimelineMax里面时间轴最后面1秒后执行
    </script>
</body>

</html>